<!DOCTYPE html>
<html>

    <head>
        <title>Mobiilikokoussovellus</title>
        <meta http-equiv="Content-type" content="text/html; charset=utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <script src="cordova.js"></script>
        <script src="js/angular.js"></script>
        <script src="js/jquery-2.1.4.js"></script>
        <script src="js/appframework.ui.js"></script>
        <script src="xdk/init-dev.js"></script>
        <script scr="js/fastclick.js"></script>
        <script src="js/app.js"></script>
        <script src="js/eventcontroller.js"></script>

    </script>>
    <!-- <link href="css/af.ui.css" rel="stylesheet" /> -->
    <link href="css/af.ui.base.css" rel="stylesheet" />
    <link href="css/icons.css" rel="stylesheet" />
    <link href="css/project.css" rel="stylesheet" />

</head>

<body>

    <div class="view" id="loginView">
        <header><h1>Kirjautuminen</h1></header>
        <div class="pages">
            <div class="panel" title="login screen" id="login">
                <button onclick="partioLogin()">kirjaudu</button>
                <a href="#events">kirjaudu</a>
            </div>
        </div>
    </div>

    <div class="view" id="mainView">
        <header><h1>Tapahtumat</h1></header>
        <div class="pages">

            <div ng-app="af" ng-controller="EventController as ev">

                <div class="panel" title="Tapahtumat" id="events" data-tab="tab1" data-footer="none">
                    <ul class="list">
                        <li ng-repeat="x in ev.events track by $index"><a href="#details" ng-click="ev.getDetails($index)">{{ev.concat(x.event.name, ev.getDateTime(x))}}</a></li>
                    </ul>
                </div>


                <div class="panel grid" data-title="Badges" id="badges">
                    <div class="grid grid-photo">
                        <li><div class="grid-photo-box"><a href="#badge"><img src="images/upotato.png" /></a></div></li>
                        <li><div class="grid-photo-box"><a href="#item2"><img src="images/upotato.png" /></a></div></li>
                        <li><div class="grid-photo-box"><a href="#item3"><img src="images/upotato.png" /></a></div></li>
                        <li><div class="grid-photo-box"><a href="#item4"><img src="images/upotato.png" /></a></div></li>
                        <li><div class="grid-photo-box"><a href="#item5"><img src="images/upotato.png" /></a></div></li>
                        <li><div class="grid-photo-box"><a href="#item6"><img src="images/upotato.png" /></a></div></li>
                        <li><div class="grid-photo-box"><a href="#item7"><img src="images/upotato.png" /></a></div></li>
                        <li><div class="grid-photo-box"><a href="#item8"><img src="images/upotato.png" /></a></div></li>
                        <li><div class="grid-photo-box"><a href="#item9"><img src="images/upotato.png" /></a></div></li>
                        <li><div class="grid-photo-box"><a href="#item10"><img src="images/upotato.png" /></a></div></li>
                        <li><div class="grid-photo-box"><a href="#item11"><img src="images/upotato.png" /></a></div></li>
                        <li><div class="grid-photo-box"><a href="#item12"><img src="images/upotato.png" /></a></div></li>
                        <li><div class="grid-photo-box"><a href="#item13"><img src="images/upotato.png" /></a></div></li>
                        <li><div class="grid-photo-box"><a href="#item14"><img src="images/upotato.png" /></a></div></li>
                        <li><div class="grid-photo-box"><a href="#item15"><img src="images/upotato.png" /></a></div></li>
                        <li><div class="grid-photo-box"><a href="#item16"><img src="images/upotato.png" /></a></div></li>
                        <li><div class="grid-photo-box"><a href="#item17"><img src="images/upotato.png" /></a></div></li>
                        <li><div class="grid-photo-box"><a href="#item18"><img src="images/upotato.png" /></a></div></li>
                        <li><div class="grid-photo-box"><a href="#item19"><img src="images/upotato.png" /></a></div></li>
                        <li><div class="grid-photo-box"><a href="#item20"><img src="images/upotato.png" /></a></div></li>
                        <li><div class="grid-photo-box"><a href="#item21"><img src="images/upotato.png" /></a></div></li>
                        <li><div class="grid-photo-box"><a href="#item22"><img src="images/upotato.png" /></a></div></li>
                        <li><div class="grid-photo-box"><a href="#item23"><img src="images/upotato.png" /></a></div></li>
                        <li><div class="grid-photo-box"><a href="#item24"><img src="images/upotato.png" /></a></div></li>

                    </div>
                </div>
                <div class="panel" title="Merkki" id="badge">
                    <button onclick="window.plugins.socialsharing.shareViaWhatsApp('Message via WhatsApp', null /* img */, null /* url */, function() {console.log('share ok')}, function(errormsg){alert(errormsg)})">msg via WhatsApp (with errcallback)</button>
                </div>

                <div class="panel" title="Tapahtuman tiedot" id="details" >
                    <br>
                    <h2>{{ ev.event.event.name}}</h2>
                    <ul class="list inset">                      
                        <li>Aika: <span style="float:right">{{ ev.getDateTime(ev.event)}}</span></li>
                        <li>Paikka: <span style="float:right">{{ ev.event.place}}</span></li>
                        <li>Kuvaus: <br><br><span>{{ ev.event.event.description}}</span></li>

                        <li> Aktiviteetit:
                            <ul class="list inset">
                                <li ng-repeat="a in ev.event.activities track by $index"><a href="#activityDetails" ng-click="ev.getActivity($index)">{{a.name}}</a></li>
                            </ul>
                        </li>
                    </ul>

                    <h3><a href="#activityPerformances" ng-click="ev.getUsers()">Lisää suoritteita</a></h3>    
                </div>

                <div class="panel" title="Lisää suoritteita" id="activityPerformances">
                    <form action="">
                        <br>
                        <h2> Suoritusten lisääminen ryhmäläisille </h2> 

                        <label for="selectedActivity">Valitse aktiviteetti: </label><br>

                        <select ng-model="selectedActivity" ng-options="a.name for a in ev.event.activities track by $index">


                            <!-- <option ng-options="a.name for a in ev.event.activities track by $index"></option>-->


                            <!--<span ng-repeat="user in ev.users track by $index">
                                <label for="{{user.id}}">
                                    <input type="checkbox" ng-model="" name="group" id="{{user.id}}" />
                                    {{user.firstname + " "user.lastname}} <br/>
                                </label>
                            </span>-->

                            <!--<li ng-repeat="user in ev.users track by $index">
    
                                <input type="checkbox" value="{{user.id}}" name="{{user.lastname}}" id="{{user.id}}" />{{user.firstname + " " + user.lastname}} 
    
                            </li>-->
                        </select>


                        <div class="input-group">

                            <span ng-repeat="user in ev.users track by $index">
                                <input type="checkbox" name="usr" id="{{user.id}}" value="{{user.id}}" style="float:right">  <label for="{{user.id}}"> {{user.firstname + " " + user.lastname}}</label>
                            </span>
                        </div>

                        <input type="submit" class="button" value="nappi" style="float:left">
                    </form>


                </div>

                <div class="panel" title="Yksityiskohdat" id="activityDetails">
                    <br>
                    <h2>{{ev.activity.title}}</h2>
                    <ul class="list inset">           
                        <li>Ryhmäkoko: <span style="float:right">{{ ev.activity.ryhmakoko}}</span></li>
                        <li>Paikka: <span style="float:right">{{ ev.activity.paikka}}</span></li>
                        <li>Pakollisuus: <span style="float:right">{{ ev.activity.pakollisuus}}</span></li>
                        <li>Suorituksen kesto: <span style="float:right">{{ ev.activity.suoritus_kesto}}</span></li>
                        <li>Kuvaus: <br><br><span>{{ ev.activity.content}}</span></li>

                    </ul>
                </div>
            </div>
        </div>

        <!-- <footer>
             <a href="#badges" class="icon home"></a>
         </footer> -->
    </div>
</div>
<script>
            $(function() {
            FastClick.attach(document.body);
            });
</script>
</body>

</html>
